document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".wp-block-telex-ticker-tape-parade");if(t.forEach(function(t){const e=t.querySelector(".ticker-content"),n=t.querySelector(".ticker-text"),a=parseInt(t.dataset.speed)||30;if(!e||!n)return;const i=n.textContent.trim();e.setAttribute("data-content",i);const o=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(o)return e.style.animation="none",void(e.style.transform="translateX(0)");const s=Math.max(10,60-a)+"s";let r;e.style.animationDuration=s,e.style.animationPlayState="running",t.classList.contains("pause-on-hover")&&(t.addEventListener("mouseenter",function(){e.style.animationPlayState="paused"}),t.addEventListener("mouseleave",function(){o||(e.style.animationPlayState="running")}),t.addEventListener("focus",function(){e.style.animationPlayState="paused"}),t.addEventListener("blur",function(){o||(e.style.animationPlayState="running")})),document.addEventListener("visibilitychange",function(){document.hidden?e.style.animationPlayState="paused":o||t.matches(":hover")||(e.style.animationPlayState="running")}),window.addEventListener("resize",function(){clearTimeout(r),r=setTimeout(function(){if(!o){const t=e.style.animationDuration;e.style.animation="none",e.offsetHeight,e.style.animation=`scroll-left ${t} linear infinite`}},150)})}),window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion: reduce)");e.addEventListener("change",function(){t.forEach(function(t){const n=t.querySelector(".ticker-content");if(n)if(e.matches)n.style.animation="none",n.style.transform="translateX(0)";else{const e=parseInt(t.dataset.speed)||30,a=Math.max(10,60-e)+"s";n.style.animation=`scroll-left ${a} linear infinite`}})})}});